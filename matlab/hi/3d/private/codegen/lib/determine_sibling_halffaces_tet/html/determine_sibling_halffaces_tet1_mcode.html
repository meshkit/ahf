<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1">  1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T17U3">sibhfs</span>,<span class="var type1" id="S3T4U4">manifold</span>,<span class="var type1" id="S4T4U5">oriented</span>] = determine_sibling_halffaces_tet( <span class="var type1" id="S5T1U8">nv</span>, <span class="var type1" id="S6T2U9">elems</span>, <span class="var type1" id="S7T12U10">varargin</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2">  2</a></span><span class="line"><span class="comment">%DETERMINE_SIBLING_HALFFACE_TET Determine the sibling half-faces.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3">  3</a></span><span class="line"><span class="comment">% DETERMINE_SIBLING_HALFFACE_TET(NV,ELEMS,SIBHFS) Determines the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4">  4</a></span><span class="line"><span class="comment">% sibling half-faces.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5">  5</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6">  6</a></span><span class="line"><span class="comment">%    SIBHFS = DETERMINE_SIBLING_HALFFACE_TET(NV,ELEMS)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7">  7</a></span><span class="line"><span class="comment">%    SIBHFS = DETERMINE_SIBLING_HALFFACE_TET(NV,ELEMS,SIBHFS)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8">  8</a></span><span class="line"><span class="comment">% computes mapping from each half-face to its sibling half-face.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9">  9</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10"> 10</a></span><span class="line"><span class="comment">%    SIBHFS = DETERMINE_SIBLING_HALFFACE_TET(NV,ELEMS,USESTRUCT)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11"> 11</a></span><span class="line"><span class="comment">% It will use struct for sibhfs if a logical variable USESTRUCT is present.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12"> 12</a></span><span class="line"><span class="comment">%  Otherwise, it uses integers for SIBHFS, and we assign three bits to local_face_id.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13"> 13</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,14" id="srcline14"> 14</a></span><span class="line"><span class="comment">% Note: See http://www.grc.nasa.gov/WWW/cgns/CGNS_docs_current/sids/conv.html</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,15" id="srcline15"> 15</a></span><span class="line"><span class="comment">%       for numbering convention of faces.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,16" id="srcline16"> 16</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,17" id="srcline17"> 17</a></span><span class="line"><span class="comment">%#codegen -args {int32(0), coder.typeof(int32(0), [inf,17],[1,1]),</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,18" id="srcline18"> 18</a></span><span class="line"><span class="comment">%#codegen coder.typeof(int32(0), [inf,4],[1,1])}</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,19" id="srcline19"> 19</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,20" id="srcline20"> 20</a></span><span class="line"><span class="comment">% Table for vertices of each face.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,21" id="srcline21"> 21</a></span><span class="line"><span class="mxinfo" id="T6:U7"><span class="var type1" id="S8T6U13">hf_tet</span>    = <span class="mxinfo" id="T6:U9">int32(<span class="mxinfo" id="T19:U10">[1 3 2; 1 2 4; 2 3 4; 3 1 4]</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,22" id="srcline22"> 22</a></span><span class="line"><span class="comment">% Table for mapping each vertex to adjacent vertices.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,23" id="srcline23"> 23</a></span><span class="line"><span class="mxinfo" id="T6:U11"><span class="var type1" id="S10T6U35">v2av_tet</span>  = <span class="mxinfo" id="T6:U13">int32(<span class="mxinfo" id="T19:U14">[2,4,3; 1 3 4; 4 2 1; 3 1 2]</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,24" id="srcline24"> 24</a></span><span class="line"><span class="comment">% Table for local IDs of incident faces of each vertex.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,25" id="srcline25"> 25</a></span><span class="line"><span class="mxinfo" id="T6:U15"><span class="var type1" id="S11T6U57">v2f_tet</span>   = <span class="mxinfo" id="T6:U17">int32(<span class="mxinfo" id="T19:U18">[2 4 1; 1 3 2; 3 1 4; 4 2 3]</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,26" id="srcline26"> 26</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,27" id="srcline27"> 27</a></span><span class="line"><span class="mxinfo" id="T7:U19"><span class="var type1" id="S12T7U79">next</span> = <span class="mxinfo" id="T7:U21">int32([2,3,1])</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,28" id="srcline28"> 28</a></span><span class="line"><span class="mxinfo" id="T7:U22"><span class="var type1" id="S13T7U89">prev</span> = <span class="mxinfo" id="T7:U24">int32([3 1 2])</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,29" id="srcline29"> 29</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,30" id="srcline30"> 30</a></span><span class="line"><span class="mxinfo" id="T4:U25"><span class="var type1" id="S3T4U99">manifold</span>=<span class="mxinfo" id="T4:U27">true</span></span>; <span class="mxinfo" id="T4:U28"><span class="var type1" id="S4T4U104">oriented</span>=<span class="mxinfo" id="T4:U30">true</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,31" id="srcline31"> 31</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,32" id="srcline32"> 32</a></span><span class="line"><span class="comment">%% First, build is_index to store starting position for each vertex.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,33" id="srcline33"> 33</a></span><span class="line"><span class="mxinfo" id="T15:U31"><span class="var type1" id="S15T15U109">is_index</span> = <span class="mxinfo" id="T15:U33">zeros(<span class="mxinfo" id="T1:U34"><span class="var type1" id="S5T1U113">nv</span>+<span class="mxinfo" id="T1:U36">1</span></span>,1, <span class="string">'int32'</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,34" id="srcline34"> 34</a></span><span class="line"><span class="mxinfo" id="T1:U37"><span class="var type1" id="S17T1U119">nelems</span> = <span class="mxinfo" id="T1:U39">int32(<span class="mxinfo" id="T5:U40">size(<span class="var type1" id="S6T2U124">elems</span>,1)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,35" id="srcline35"> 35</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S19T1U128">ii</span>=<span class="mxinfo" id="T1:U43">1</span>:<span class="var type1" id="S17T1U131">nelems</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,36" id="srcline36"> 36</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo" id="T4:U45"><span class="mxinfo" id="T1:U46"><span class="var type1" id="S6T2U136">elems</span>(<span class="var type1" id="S19T1U137">ii</span>,<span class="mxinfo" id="T5:U49">1</span>)</span>==<span class="mxinfo" id="T5:U50">0</span></span>; <span class="mxinfo" id="T1:U51"><span class="var type1" id="S17T1U142">nelems</span>=<span class="mxinfo" id="T1:U53"><span class="var type1" id="S19T1U144">ii</span>-<span class="mxinfo" id="T1:U55">1</span></span></span>; <span class="keyword">break</span>; <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,37" id="srcline37"> 37</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,38" id="srcline38"> 38</a></span><span class="line">    <span class="keyword">for</span> <span class="var type1" id="S20T5U149">jj</span>=<span class="mxinfo" id="T5:U57">1</span>:4</span></span>
<span class="srcline"><span class="lineno"><a href="1,39" id="srcline39"> 39</a></span><span class="line">        <span class="mxinfo" id="T7:U58"><span class="var type1" id="S21T7U155">vs</span> = <span class="mxinfo" id="T7:U60"><span class="var type1" id="S6T2U157">elems</span>(<span class="var type1" id="S19T1U158">ii</span>,<span class="mxinfo" id="T7:U63"><span class="var type1" id="S8T6U160">hf_tet</span>(<span class="var type1" id="S20T5U161">jj</span>,:)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,40" id="srcline40"> 40</a></span><span class="line">        <span class="mxinfo" id="T1:U66"><span class="var type1" id="S22T1U165">v</span> = <span class="mxinfo" id="T1:U68">max( <span class="var type1" id="S21T7U168">vs</span>, [], 2)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,41" id="srcline41"> 41</a></span><span class="line">        <span class="mxinfo" id="T1:U70"><span class="mxinfo" id="T1:U71"><span class="var type1" id="S15T15U175">is_index</span>(<span class="mxinfo" id="T1:U73"><span class="var type1" id="S22T1U177">v</span>+<span class="mxinfo" id="T1:U75">1</span></span>)</span> = <span class="mxinfo" id="T1:U76"><span class="mxinfo" id="T1:U77"><span class="var type1" id="S15T15U181">is_index</span>(<span class="mxinfo" id="T1:U79"><span class="var type1" id="S22T1U183">v</span>+<span class="mxinfo" id="T1:U81">1</span></span>)</span>+<span class="mxinfo" id="T1:U82">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,42" id="srcline42"> 42</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,43" id="srcline43"> 43</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,44" id="srcline44"> 44</a></span><span class="line"><span class="mxinfo" id="T1:U83"><span class="mxinfo" id="T1:U84"><span class="var type1" id="S15T15U189">is_index</span>(<span class="mxinfo" id="T5:U86">1</span>)</span> = <span class="mxinfo" id="T5:U87">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,45" id="srcline45"> 45</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S19T1U194">ii</span>=<span class="mxinfo" id="T1:U89">1</span>:<span class="var type1" id="S5T1U197">nv</span>; <span class="mxinfo" id="T1:U91"><span class="mxinfo" id="T1:U92"><span class="var type1" id="S15T15U201">is_index</span>(<span class="mxinfo" id="T1:U94"><span class="var type1" id="S19T1U203">ii</span>+<span class="mxinfo" id="T1:U96">1</span></span>)</span> = <span class="mxinfo" id="T1:U97"><span class="mxinfo" id="T1:U98"><span class="var type1" id="S15T15U207">is_index</span>(<span class="var type1" id="S19T1U208">ii</span>)</span> + <span class="mxinfo" id="T1:U101"><span class="var type1" id="S15T15U210">is_index</span>(<span class="mxinfo" id="T1:U103"><span class="var type1" id="S19T1U212">ii</span>+<span class="mxinfo" id="T1:U105">1</span></span>)</span></span></span>; <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,46" id="srcline46"> 46</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,47" id="srcline47"> 47</a></span><span class="line"><span class="comment">% Store dimensions of objects.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,48" id="srcline48"> 48</a></span><span class="line"><span class="mxinfo" id="T1:U106"><span class="var type1" id="S24T1U216">nf</span> = <span class="mxinfo" id="T1:U108"><span class="var type1" id="S17T1U218">nelems</span>*12</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,49" id="srcline49"> 49</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,50" id="srcline50"> 50</a></span><span class="line"><span class="comment">% v2hf stores mapping from each vertex to half-face ID.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,51" id="srcline51"> 51</a></span><span class="line"><span class="mxinfo" id="T15:U110"><span class="var type1" id="S25T15U222">v2hf_cid</span> = <span class="mxinfo" id="T15:U112"><span class="fcn" id="F24N4:B224">nullcopy</span>(<span class="mxinfo" id="T15:U113">zeros(<span class="var type1" id="S24T1U227">nf</span>,1, <span class="string">'int32'</span>)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,52" id="srcline52"> 52</a></span><span class="line"><span class="mxinfo" id="T16:U115"><span class="var type1" id="S27T16U232">v2hf_lfid</span> = <span class="mxinfo" id="T16:U117"><span class="fcn" id="F25N4:B234">nullcopy</span>(<span class="mxinfo" id="T16:U118">zeros(<span class="var type1" id="S24T1U237">nf</span>,1, <span class="string">'int8'</span>)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,53" id="srcline53"> 53</a></span><span class="line"><span class="mxinfo" id="T15:U120"><span class="var type1" id="S28T15U242">v2oe_v1</span> = <span class="mxinfo" id="T15:U122"><span class="fcn" id="F24N4:B244">nullcopy</span>(<span class="mxinfo" id="T15:U123">zeros(<span class="var type1" id="S24T1U247">nf</span>, 1, <span class="string">'int32'</span>)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,54" id="srcline54"> 54</a></span><span class="line"><span class="mxinfo" id="T15:U125"><span class="var type1" id="S29T15U252">v2oe_v2</span> = <span class="mxinfo" id="T15:U127"><span class="fcn" id="F24N4:B254">nullcopy</span>(<span class="mxinfo" id="T15:U128">zeros(<span class="var type1" id="S24T1U257">nf</span>, 1, <span class="string">'int32'</span>)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,55" id="srcline55"> 55</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,56" id="srcline56"> 56</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S19T1U262">ii</span>=<span class="mxinfo" id="T1:U131">1</span>:<span class="var type1" id="S17T1U265">nelems</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,57" id="srcline57"> 57</a></span><span class="line">    <span class="keyword">for</span> <span class="var type1" id="S20T5U268">jj</span>=<span class="mxinfo" id="T5:U134">1</span>:4</span></span>
<span class="srcline"><span class="lineno"><a href="1,58" id="srcline58"> 58</a></span><span class="line">        <span class="mxinfo" id="T1:U135"><span class="var type1" id="S22T1U274">v</span> = <span class="mxinfo" id="T1:U137"><span class="var type1" id="S6T2U276">elems</span>(<span class="var type1" id="S19T1U277">ii</span>,<span class="var type1" id="S20T5U278">jj</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,59" id="srcline59"> 59</a></span><span class="line">        <span class="mxinfo" id="T7:U141"><span class="var type1" id="S30T7U281">av</span> = <span class="mxinfo" id="T7:U143"><span class="var type1" id="S6T2U283">elems</span>(<span class="var type1" id="S19T1U284">ii</span>,<span class="mxinfo" id="T7:U146"><span class="var type1" id="S10T6U286">v2av_tet</span>(<span class="var type1" id="S20T5U287">jj</span>,:)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,60" id="srcline60"> 60</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,61" id="srcline61"> 61</a></span><span class="line">        <span class="keyword">for</span> <span class="var type1" id="S31T5U291">kk</span>=<span class="mxinfo" id="T5:U150">1</span>:3</span></span>
<span class="srcline"><span class="lineno"><a href="1,62" id="srcline62"> 62</a></span><span class="line">            <span class="keyword">if</span> <span class="mxinfo" id="T4:U151"><span class="var type1" id="S22T1U299">v</span>&gt;<span class="mxinfo" id="T1:U153"><span class="var type1" id="S30T7U301">av</span>(<span class="var type1" id="S31T5U302">kk</span>)</span></span> &amp;&amp; <span class="mxinfo" id="T4:U156"><span class="var type1" id="S22T1U304">v</span>&gt;<span class="mxinfo" id="T1:U158"><span class="var type1" id="S30T7U306">av</span>(<span class="mxinfo" id="T1:U160"><span class="var type1" id="S12T7U308">next</span>(<span class="var type1" id="S31T5U309">kk</span>)</span>)</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,63" id="srcline63"> 63</a></span><span class="line">                <span class="mxinfo" id="T1:U163"><span class="mxinfo" id="T1:U164"><span class="var type1" id="S28T15U313">v2oe_v1</span>(<span class="mxinfo" id="T1:U166"><span class="var type1" id="S15T15U315">is_index</span>(<span class="var type1" id="S22T1U316">v</span>)</span>)</span> = <span class="mxinfo" id="T1:U169"><span class="var type1" id="S30T7U318">av</span>(<span class="var type1" id="S31T5U319">kk</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,64" id="srcline64"> 64</a></span><span class="line">                <span class="mxinfo" id="T1:U172"><span class="mxinfo" id="T1:U173"><span class="var type1" id="S29T15U323">v2oe_v2</span>(<span class="mxinfo" id="T1:U175"><span class="var type1" id="S15T15U325">is_index</span>(<span class="var type1" id="S22T1U326">v</span>)</span>)</span> = <span class="mxinfo" id="T1:U178"><span class="var type1" id="S30T7U328">av</span>(<span class="mxinfo" id="T1:U180"><span class="var type1" id="S12T7U330">next</span>(<span class="var type1" id="S31T5U331">kk</span>)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,65" id="srcline65"> 65</a></span><span class="line">                <span class="mxinfo" id="T1:U183"><span class="mxinfo" id="T1:U184"><span class="var type1" id="S25T15U335">v2hf_cid</span>(<span class="mxinfo" id="T1:U186"><span class="var type1" id="S15T15U337">is_index</span>(<span class="var type1" id="S22T1U338">v</span>)</span>)</span> = <span class="var type1" id="S19T1U339">ii</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,66" id="srcline66"> 66</a></span><span class="line">                <span class="mxinfo" id="T18:U190"><span class="mxinfo" id="T18:U191"><span class="var type1" id="S27T16U343">v2hf_lfid</span>(<span class="mxinfo" id="T1:U193"><span class="var type1" id="S15T15U345">is_index</span>(<span class="var type1" id="S22T1U346">v</span>)</span>)</span> = <span class="mxinfo" id="T1:U196"><span class="var type1" id="S11T6U348">v2f_tet</span>(<span class="var type1" id="S20T5U349">jj</span>,<span class="var type1" id="S31T5U350">kk</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,67" id="srcline67"> 67</a></span><span class="line">                <span class="mxinfo" id="T1:U200"><span class="mxinfo" id="T1:U201"><span class="var type1" id="S15T15U354">is_index</span>(<span class="var type1" id="S22T1U355">v</span>)</span> = <span class="mxinfo" id="T1:U204"><span class="mxinfo" id="T1:U205"><span class="var type1" id="S15T15U358">is_index</span>(<span class="var type1" id="S22T1U359">v</span>)</span> + <span class="mxinfo" id="T1:U208">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,68" id="srcline68"> 68</a></span><span class="line">            <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,69" id="srcline69"> 69</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,70" id="srcline70"> 70</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,71" id="srcline71"> 71</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,72" id="srcline72"> 72</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S19T1U363">ii</span>=<span class="mxinfo" id="T1:U210"><span class="var type1" id="S5T1U367">nv</span>-<span class="mxinfo" id="T1:U212">1</span></span>:<span class="mxinfo" id="T1:U213">-1</span>:1; <span class="mxinfo" id="T1:U214"><span class="mxinfo" id="T1:U215"><span class="var type1" id="S15T15U375">is_index</span>(<span class="mxinfo" id="T1:U217"><span class="var type1" id="S19T1U377">ii</span>+<span class="mxinfo" id="T1:U219">1</span></span>)</span> = <span class="mxinfo" id="T1:U220"><span class="var type1" id="S15T15U380">is_index</span>(<span class="var type1" id="S19T1U381">ii</span>)</span></span>; <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,73" id="srcline73"> 73</a></span><span class="line"><span class="mxinfo" id="T1:U223"><span class="mxinfo" id="T1:U224"><span class="var type1" id="S15T15U385">is_index</span>(<span class="mxinfo" id="T5:U226">1</span>)</span>=<span class="mxinfo" id="T5:U227">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,74" id="srcline74"> 74</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,75" id="srcline75"> 75</a></span><span class="line"><span class="comment">% Fill in sibhfs for each half-face.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,76" id="srcline76"> 76</a></span><span class="line"><span class="keyword">if</span> nargin&lt;3 || isempty(<span class="var type1" id="S7T12U399">varargin</span>{1}) || ~islogical(<span class="var type1" id="S7T12U405">varargin</span>{1})</span></span>
<span class="srcline"><span class="lineno"><a href="1,77" id="srcline77"> 77</a></span><span class="line">    <span class="mxinfo" id="T17:U230"><span class="var type1" id="S2T17U409">sibhfs</span> = <span class="mxinfo" id="T17:U232">zeros(<span class="mxinfo" id="T13:U233">size(<span class="var type1" id="S6T2U414">elems</span>)</span>, <span class="string">'int32'</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,78" id="srcline78"> 78</a></span><span class="line"><span class="keyword">elseif</span> islogical(<span class="var type2" id="S7T0U420">varargin</span>{1})</span></span>
<span class="srcline"><span class="lineno"><a href="1,79" id="srcline79"> 79</a></span><span class="line">    <span class="var type2" id="S2T0U424">sibhfs</span> = struct( <span class="string">'cid'</span>, zeros(size(<span class="var type2" id="S6T0U432">elems</span>), <span class="string">'int32'</span>), <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,80" id="srcline80"> 80</a></span><span class="line">        <span class="string">'lfid'</span>, zeros(size(<span class="var type2" id="S6T0U439">elems</span>), <span class="string">'int8'</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,81" id="srcline81"> 81</a></span><span class="line"><span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,82" id="srcline82"> 82</a></span><span class="line">    <span class="var type2" id="S2T0U444">sibhfs</span> = <span class="var type2" id="S7T0U446">varargin</span>{1};</span></span>
<span class="srcline"><span class="lineno"><a href="1,83" id="srcline83"> 83</a></span><span class="line">    assert( size(<span class="var type2" id="S2T0U455">sibhfs</span>,1)&gt;=<span class="var type2" id="S17T0U457">nelems</span> &amp;&amp; size(<span class="var type2" id="S2T0U461">sibhfs</span>,2)&gt;=4);</span></span>
<span class="srcline"><span class="lineno"><a href="1,84" id="srcline84"> 84</a></span><span class="line">    <span class="var type2" id="S2T0U467">sibhfs</span>(:,:) = 0;</span></span>
<span class="srcline"><span class="lineno"><a href="1,85" id="srcline85"> 85</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,86" id="srcline86"> 86</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,87" id="srcline87"> 87</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S19T1U473">ii</span>=<span class="mxinfo" id="T1:U236">1</span>:<span class="var type1" id="S17T1U476">nelems</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,88" id="srcline88"> 88</a></span><span class="line">    <span class="keyword">for</span> <span class="var type1" id="S20T1U479">jj</span>=<span class="mxinfo" id="T1:U239">int32(1)</span>:<span class="mxinfo" id="T1:U240">4</span> <span class="comment">% local face ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,89" id="srcline89"> 89</a></span><span class="line">        <span class="keyword">if</span> isstruct(<span class="var type1" id="S2T17U491">sibhfs</span>) &amp;&amp; <span class="var type2" id="S2T0U494">sibhfs</span>.cid(<span class="var type2" id="S19T0U496">ii</span>,<span class="var type2" id="S20T0U497">jj</span>) || <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,90" id="srcline90"> 90</a></span><span class="line">                ~isstruct(<span class="var type1" id="S2T17U502">sibhfs</span>) &amp;&amp; <span class="mxinfo" id="T1:U243"><span class="var type1" id="S2T17U504">sibhfs</span>(<span class="var type1" id="S19T1U505">ii</span>,<span class="var type1" id="S20T1U506">jj</span>)</span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,91" id="srcline91"> 91</a></span><span class="line">            <span class="keyword">continue</span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,92" id="srcline92"> 92</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,93" id="srcline93"> 93</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,94" id="srcline94"> 94</a></span><span class="line">        <span class="mxinfo" id="T7:U247"><span class="var type1" id="S21T7U510">vs</span> = <span class="mxinfo" id="T7:U249"><span class="var type1" id="S6T2U512">elems</span>(<span class="var type1" id="S19T1U513">ii</span>, <span class="mxinfo" id="T7:U252"><span class="var type1" id="S8T6U515">hf_tet</span>(<span class="var type1" id="S20T1U516">jj</span>,:)</span>)</span></span>;     <span class="comment">% list of vertices of face</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,95" id="srcline95"> 95</a></span><span class="line">        <span class="mxinfo" id="T1:U255">[<span class="var type1" id="S22T1U521">v</span>,<span class="var type1" id="S38T5U522">imax</span>] = max( <span class="var type1" id="S21T7U525">vs</span>, [], 2)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,96" id="srcline96"> 96</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,97" id="srcline97"> 97</a></span><span class="line">        <span class="mxinfo" id="T1:U259"><span class="var type1" id="S39T1U531">first_cid</span> = <span class="var type1" id="S19T1U532">ii</span></span>; <span class="mxinfo" id="T18:U262"><span class="var type1" id="S40T18U535">first_lfid</span> = <span class="mxinfo" id="T18:U264">int8(<span class="var type1" id="S20T1U538">jj</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,98" id="srcline98"> 98</a></span><span class="line">        <span class="mxinfo" id="T1:U266"><span class="var type1" id="S42T1U541">prev_cid</span> = <span class="var type1" id="S39T1U542">first_cid</span></span>; <span class="mxinfo" id="T18:U269"><span class="var type1" id="S43T18U545">prev_lfid</span> = <span class="var type1" id="S40T18U546">first_lfid</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,99" id="srcline99"> 99</a></span><span class="line">        <span class="mxinfo" id="T1:U272"><span class="var type1" id="S44T1U549">nhfs</span> = <span class="mxinfo" id="T1:U274">int32(<span class="mxinfo" id="T5:U275">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,100" id="srcline100">100</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,101" id="srcline101">101</a></span><span class="line">        <span class="comment">% Search for half-face in the opposite orientation</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,102" id="srcline102">102</a></span><span class="line">        <span class="keyword">for</span> <span class="var type1" id="S45T1U555">index</span> = <span class="mxinfo" id="T1:U277"><span class="var type1" id="S15T15U558">is_index</span>( <span class="var type1" id="S22T1U559">v</span>)</span>:<span class="mxinfo" id="T1:U280"><span class="mxinfo" id="T1:U281"><span class="var type1" id="S15T15U562">is_index</span>( <span class="mxinfo" id="T1:U283"><span class="var type1" id="S22T1U564">v</span>+<span class="mxinfo" id="T1:U285">1</span></span>)</span>-<span class="mxinfo" id="T1:U286">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,103" id="srcline103">103</a></span><span class="line">            <span class="keyword">if</span> <span class="mxinfo" id="T4:U287"><span class="mxinfo" id="T1:U288"><span class="var type1" id="S28T15U572">v2oe_v1</span>(<span class="var type1" id="S45T1U573">index</span>)</span> == <span class="mxinfo" id="T1:U291"><span class="var type1" id="S21T7U575">vs</span>(<span class="mxinfo" id="T1:U293"><span class="var type1" id="S13T7U577">prev</span>(<span class="var type1" id="S38T5U578">imax</span>)</span>)</span></span> &amp;&amp; <span class="mxinfo" id="T4:U296"><span class="mxinfo" id="T1:U297"><span class="var type1" id="S29T15U581">v2oe_v2</span>(<span class="var type1" id="S45T1U582">index</span>)</span> == <span class="mxinfo" id="T1:U300"><span class="var type1" id="S21T7U584">vs</span>(<span class="mxinfo" id="T1:U302"><span class="var type1" id="S12T7U586">next</span>(<span class="var type1" id="S38T5U587">imax</span>)</span>)</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,104" id="srcline104">104</a></span><span class="line">                <span class="keyword">if</span> isstruct(<span class="var type1" id="S2T17U592">sibhfs</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,105" id="srcline105">105</a></span><span class="line">                    <span class="var type2" id="S2T0U597">sibhfs</span>.cid(<span class="var type2" id="S42T0U599">prev_cid</span>, <span class="var type2" id="S43T0U600">prev_lfid</span>) = <span class="var type2" id="S25T0U602">v2hf_cid</span>(<span class="var type2" id="S45T0U603">index</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,106" id="srcline106">106</a></span><span class="line">                    <span class="var type2" id="S2T0U608">sibhfs</span>.lfid(<span class="var type2" id="S42T0U610">prev_cid</span>,<span class="var type2" id="S43T0U611">prev_lfid</span>) = <span class="var type2" id="S27T0U613">v2hf_lfid</span>(<span class="var type2" id="S45T0U614">index</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,107" id="srcline107">107</a></span><span class="line">                <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,108" id="srcline108">108</a></span><span class="line">                    <span class="mxinfo" id="T1:U306"><span class="mxinfo" id="T1:U307"><span class="var type1" id="S2T17U619">sibhfs</span>( <span class="var type1" id="S42T1U620">prev_cid</span>, <span class="var type1" id="S43T18U621">prev_lfid</span>)</span> = <span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,109" id="srcline109">109</a></span><span class="line"><span class="mxinfo" id="T1:U306">                        <span class="mxinfo" id="T1:U311"><span class="fcn" id="F35N2:B623">clfids2hfid</span>( <span class="mxinfo" id="T1:U312"><span class="var type1" id="S25T15U625">v2hf_cid</span>(<span class="var type1" id="S45T1U626">index</span>)</span>,<span class="mxinfo" id="T18:U315"><span class="var type1" id="S27T16U628">v2hf_lfid</span>(<span class="var type1" id="S45T1U629">index</span>)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,110" id="srcline110">110</a></span><span class="line">                <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,111" id="srcline111">111</a></span><span class="line">                <span class="mxinfo" id="T1:U318"><span class="var type1" id="S42T1U632">prev_cid</span> = <span class="mxinfo" id="T1:U320"><span class="var type1" id="S25T15U634">v2hf_cid</span>(<span class="var type1" id="S45T1U635">index</span>)</span></span>; <span class="mxinfo" id="T18:U323"><span class="var type1" id="S43T18U638">prev_lfid</span> = <span class="mxinfo" id="T18:U325"><span class="var type1" id="S27T16U640">v2hf_lfid</span>(<span class="var type1" id="S45T1U641">index</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,112" id="srcline112">112</a></span><span class="line">                <span class="mxinfo" id="T1:U328"><span class="var type1" id="S44T1U644">nhfs</span> = <span class="mxinfo" id="T1:U330"><span class="var type1" id="S44T1U646">nhfs</span>+<span class="mxinfo" id="T1:U332">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,113" id="srcline113">113</a></span><span class="line">            <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,114" id="srcline114">114</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,115" id="srcline115">115</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,116" id="srcline116">116</a></span><span class="line">        <span class="comment">% Check for halfface in the same orientation</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,117" id="srcline117">117</a></span><span class="line">        <span class="keyword">for</span> <span class="var type1" id="S45T1U650">index</span> = <span class="mxinfo" id="T1:U334"><span class="var type1" id="S15T15U653">is_index</span>( <span class="var type1" id="S22T1U654">v</span>)</span>:<span class="mxinfo" id="T1:U337"><span class="mxinfo" id="T1:U338"><span class="var type1" id="S15T15U657">is_index</span>( <span class="mxinfo" id="T1:U340"><span class="var type1" id="S22T1U659">v</span>+<span class="mxinfo" id="T1:U342">1</span></span>)</span>-<span class="mxinfo" id="T1:U343">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,118" id="srcline118">118</a></span><span class="line">            <span class="keyword">if</span> <span class="mxinfo" id="T4:U344"><span class="mxinfo" id="T1:U345"><span class="var type1" id="S28T15U668">v2oe_v1</span>(<span class="var type1" id="S45T1U669">index</span>)</span> == <span class="mxinfo" id="T1:U348"><span class="var type1" id="S21T7U671">vs</span>(<span class="mxinfo" id="T1:U350"><span class="var type1" id="S12T7U673">next</span>(<span class="var type1" id="S38T5U674">imax</span>)</span>)</span></span> &amp;&amp; <span class="mxinfo" id="T4:U353"><span class="mxinfo" id="T1:U354"><span class="var type1" id="S29T15U677">v2oe_v2</span>(<span class="var type1" id="S45T1U678">index</span>)</span> == <span class="mxinfo" id="T1:U357"><span class="var type1" id="S21T7U680">vs</span>(<span class="mxinfo" id="T1:U359"><span class="var type1" id="S13T7U682">prev</span>(<span class="var type1" id="S38T5U683">imax</span>)</span>)</span></span> &amp;&amp; <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,119" id="srcline119">119</a></span><span class="line">                    <span class="mxinfo" id="T4:U362"><span class="mxinfo" id="T1:U363"><span class="var type1" id="S25T15U686">v2hf_cid</span>(<span class="var type1" id="S45T1U687">index</span>)</span>~=<span class="var type1" id="S19T1U688">ii</span></span>                </span></span>
<span class="srcline"><span class="lineno"><a href="1,120" id="srcline120">120</a></span><span class="line">                <span class="keyword">if</span> isstruct(<span class="var type1" id="S2T17U693">sibhfs</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,121" id="srcline121">121</a></span><span class="line">                    <span class="var type2" id="S2T0U698">sibhfs</span>.cid(<span class="var type2" id="S42T0U700">prev_cid</span>, <span class="var type2" id="S43T0U701">prev_lfid</span>) = <span class="var type2" id="S25T0U703">v2hf_cid</span>(<span class="var type2" id="S45T0U704">index</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,122" id="srcline122">122</a></span><span class="line">                    <span class="var type2" id="S2T0U709">sibhfs</span>.lfid(<span class="var type2" id="S42T0U711">prev_cid</span>,<span class="var type2" id="S43T0U712">prev_lfid</span>) = <span class="var type2" id="S27T0U714">v2hf_lfid</span>(<span class="var type2" id="S45T0U715">index</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,123" id="srcline123">123</a></span><span class="line">                <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,124" id="srcline124">124</a></span><span class="line">                    <span class="mxinfo" id="T1:U368"><span class="mxinfo" id="T1:U369"><span class="var type1" id="S2T17U720">sibhfs</span>( <span class="var type1" id="S42T1U721">prev_cid</span>, <span class="var type1" id="S43T18U722">prev_lfid</span>)</span> = <span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,125" id="srcline125">125</a></span><span class="line"><span class="mxinfo" id="T1:U368">                        <span class="mxinfo" id="T1:U373"><span class="fcn" id="F35N2:B724">clfids2hfid</span>( <span class="mxinfo" id="T1:U374"><span class="var type1" id="S25T15U726">v2hf_cid</span>(<span class="var type1" id="S45T1U727">index</span>)</span>,<span class="mxinfo" id="T18:U377"><span class="var type1" id="S27T16U729">v2hf_lfid</span>(<span class="var type1" id="S45T1U730">index</span>)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,126" id="srcline126">126</a></span><span class="line">                <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,127" id="srcline127">127</a></span><span class="line">                </span></span>
<span class="srcline"><span class="lineno"><a href="1,128" id="srcline128">128</a></span><span class="line">                <span class="mxinfo" id="T1:U380"><span class="var type1" id="S42T1U733">prev_cid</span> = <span class="mxinfo" id="T1:U382"><span class="var type1" id="S25T15U735">v2hf_cid</span>(<span class="var type1" id="S45T1U736">index</span>)</span></span>; <span class="mxinfo" id="T18:U385"><span class="var type1" id="S43T18U739">prev_lfid</span> = <span class="mxinfo" id="T18:U387"><span class="var type1" id="S27T16U741">v2hf_lfid</span>(<span class="var type1" id="S45T1U742">index</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,129" id="srcline129">129</a></span><span class="line">                <span class="mxinfo" id="T1:U390"><span class="var type1" id="S44T1U745">nhfs</span> = <span class="mxinfo" id="T1:U392"><span class="var type1" id="S44T1U747">nhfs</span>+<span class="mxinfo" id="T1:U394">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,130" id="srcline130">130</a></span><span class="line">                <span class="mxinfo" id="T4:U395"><span class="var type1" id="S4T4U751">oriented</span> = <span class="mxinfo" id="T4:U397">false</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,131" id="srcline131">131</a></span><span class="line">            <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,132" id="srcline132">132</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,133" id="srcline133">133</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,134" id="srcline134">134</a></span><span class="line">        <span class="keyword">if</span> <span class="mxinfo" id="T4:U398"><span class="var type1" id="S42T1U757">prev_cid</span> ~= <span class="var type1" id="S39T1U758">first_cid</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,135" id="srcline135">135</a></span><span class="line">            <span class="comment">% Close up the cycle</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,136" id="srcline136">136</a></span><span class="line">            <span class="keyword">if</span> isstruct(<span class="var type1" id="S2T17U763">sibhfs</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,137" id="srcline137">137</a></span><span class="line">                <span class="var type2" id="S2T0U768">sibhfs</span>.cid(<span class="var type2" id="S42T0U770">prev_cid</span>, <span class="var type2" id="S43T0U771">prev_lfid</span>) = <span class="var type2" id="S39T0U772">first_cid</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,138" id="srcline138">138</a></span><span class="line">                <span class="var type2" id="S2T0U777">sibhfs</span>.lfid(<span class="var type2" id="S42T0U779">prev_cid</span>,<span class="var type2" id="S43T0U780">prev_lfid</span>) = <span class="var type2" id="S40T0U781">first_lfid</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,139" id="srcline139">139</a></span><span class="line">            <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,140" id="srcline140">140</a></span><span class="line">                <span class="mxinfo" id="T1:U402"><span class="mxinfo" id="T1:U403"><span class="var type1" id="S2T17U786">sibhfs</span>( <span class="var type1" id="S42T1U787">prev_cid</span>, <span class="var type1" id="S43T18U788">prev_lfid</span>)</span> = <span class="mxinfo" id="T1:U407"><span class="fcn" id="F35N2:B790">clfids2hfid</span>( <span class="var type1" id="S39T1U791">first_cid</span>,<span class="var type1" id="S40T18U792">first_lfid</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,141" id="srcline141">141</a></span><span class="line">            <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,142" id="srcline142">142</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,143" id="srcline143">143</a></span><span class="line">            <span class="mxinfo" id="T1:U410"><span class="var type1" id="S44T1U795">nhfs</span> = <span class="mxinfo" id="T1:U412"><span class="var type1" id="S44T1U797">nhfs</span>+<span class="mxinfo" id="T1:U414">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,144" id="srcline144">144</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,145" id="srcline145">145</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,146" id="srcline146">146</a></span><span class="line">        <span class="keyword">if</span> nargout&gt;1 &amp;&amp; <span class="var type1" id="S3T4U807">manifold</span> &amp;&amp; <span class="mxinfo" id="T4:U416"><span class="var type1" id="S44T1U809">nhfs</span>&gt;<span class="mxinfo" id="T5:U418">2</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,147" id="srcline147">147</a></span><span class="line">            <span class="mxinfo" id="T4:U419"><span class="var type1" id="S3T4U813">manifold</span> = <span class="mxinfo" id="T4:U421">false</span></span>; <span class="mxinfo" id="T4:U422"><span class="var type1" id="S4T4U818">oriented</span> = <span class="mxinfo" id="T4:U424">false</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,148" id="srcline148">148</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,149" id="srcline149">149</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,150" id="srcline150">150</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
</pre>
